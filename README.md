# Roboto VF

This is a variable version of Roboto intended to be a 1:1 match with the official non-variable v2.136 release from [github.com/googlefonts/roboto/releases](https://github.com/googlefonts/roboto/releases).

This is not an official Google project, but was enabled with generous funding by Google Fonts, who contracted Type Network to make the Variable Fonts upgrade.
Roboto v2.136 had static fonts for 6 weights in roman and italic with a normal width, along with 3 weights in roman and italic with a condensed width.
The project began by taking UFO sources generated by the build system of that release, which have quadratic outlines, and fixing some interpolation compatibility issues in the Thin, Regular and Bold files.
A new build script was written that preserves outline overlaps and generates a Variable Font from these new UFOs; the earlier build system was thus discarded.

* [/sources](sources/) contains source UFOs, designspace file, build script, TTX hinting source data
* **`[/fonts/Roboto[ital,wdth,wght].ttf](/fonts/Roboto[ital,wdth,wght].ttf)`** is the latest built font

The TTF has named instances for all the styles in the v2.136 release.

## Install

Create a new virtualenv, activate it, and install some dependencies:

    virtualenv env
    source env/bin/activate
    pip install .
    pip install -r requirements.txt

## Generate

Generate fonts using the build system:

    sh sources/build.sh

This will output a new TTF binary in `sources/master_ttf/Roboto-Regular.ttf`

## Font hinting

The fonts have been hinted using Microsoft VTT and compiled using [vttLib](https://github.com/daltonmaag/vttLib).
The hinting data is stored as xml in `sources/vtt-hinting.ttx`.

If you would like to make modifications to the hints using VTT, you'll need to do the following:

- Rebuild the fonts. We MUST ensure that hint modifications are being done on the latest binaries.
- Make a VTT source font which contains the existing hinting data by running `sh sources/make_vtt_src_font.sh`. The font will be exported to `sources/Roboto[ital,wdth,wght]_VTT.ttf`.
- In VTT, edit the newly generated font.
- Export the source font's hinting data back to `sources/vtt-hinting.ttx` by running `sh sources/export_vtt_hints.sh`
- Commit your changes using git.

Warning: vttLib doesn't support transformed composites. Please ensure source files do not contain them.

# License

All work found in this repo is all available under the SIL Open Font License, version 1.1.
See [OFL.txt](OFL.txt) for details.
